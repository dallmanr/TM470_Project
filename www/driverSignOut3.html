<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="format-detection" content="telephone=no" />
  <meta name="msapplication-tap-highlight" content="no" />
  <!--<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
    <meta http-equiv="Content-Security-Policy"> -->
  <script type="text/javascript" src="cordova.js"></script>
  <!-- jQuery -->
  <link rel="stylesheet" type="text/css" href="js/jquery-1.5.0.mobile.min.css" />
  <link rel="stylesheet" href="css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="styles.css" />

  <script type="text/javascript" src="js/jquery-1.11.1.min.js" id="cordova-jquery"></script>
  <script type="text/javascript" id="jqm-trans-disable">
    /* For having a faster transition */
    $(document).on("mobileinit", function() {
      $.mobile.defaultPageTransition = "none";
      $.mobile.defaultDialogTransition = "none";
    });
  </script>
  <script type="text/javascript" src="js/jquery-1.5.0.mobile.min.js"></script>
  <script type="text/javascript" src="js/index.js"></script>
  <script type="text/javascript" src="js/driverSignOut.js"></script>
  <script type="text/javascript" src="js/getDriversOnDuty.js"></script>
  <script type="text/javascript" src="js/pdaSignIn.js"></script>
  <script type="text/javascript" src="js/getVanDetails.js"></script>


  <title class="text-center">Driver sign out</title>
</head>

<body>
  <script src="js/bootstrap.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <script>
    //Variables set from sign out 1 of 3
    $("#theDriversName").val(localStorage.getItem("driverNameDriverSignOut"));
    $("#driversDuty").val(localStorage.getItem("dutyNumberDriverSignOut"));
    $("#signOutVanNumber").val(localStorage.getItem("vanNumberDriverSignOut"));
    $("#firstPdaTaken").val(localStorage.getItem("pdaOneNumDriverSignOut"));
    $("#secondPdaTaken").val(localStorage.getItem("pdaTwoNumDriverSignOut"));
    $("#keysCollected").val(localStorage.getItem("keysTakenDriverSignOut"));
    $("#logBookCollected").val(localStorage.getItem("logbookDriverSignOut"));
    $("#serialNumTaken").val(localStorage.getItem("vanSerialDriverSignOut"))
    $("#regNumTaken").val(localStorage.getItem("vanRegDriverSignOut"))

    //Variables set from sign out 2 of 3
    if (localStorage.getItem("pegsDriverSignOut") == "Y") {
      //alert(localStorage.getItem("pegs"));
      $("#pegs").prop("checked", true);
    }

    if (localStorage.getItem("jacketDriverSignOut") == "Y") {
      $("#hivis").prop("checked", true);
    }

    if (localStorage.getItem("footwearDriverSignOut") == "Y") {
      $("#footwear").prop("checked", true);
    }

    if (localStorage.getItem("logbookDriverSignOut") == "Y") {
      $("#logBookCollected").prop("checked", true);
    }

    if (localStorage.getItem("collectionKeysDriverSignOut") == "Y") {
      $("#collectionKeys").prop("checked", true);
    }

    if (localStorage.getItem("collectionKeysDriverSignOut") == "NA") {
      document.getElementById("collKeyDiv").style.display = "none";
    }

    //$("#pegs").val(localStorage.getItem("pegs"));
    //$("#hivis").val(localStorage.getItem("jacket"));
    //$("#footwear").val(localStorage.getItem("footwear"));
    //alert(localStorage.getItem("driverName"));
  </script>

  <script>
    function setCollKeys(val) {
      //var pdaTwo = document.getElementById("secondPadTaken");
      localStorage.setItem("collectionKeysDriverSignOut", val);
      //alert(val);
    }
  </script>

  <script>
    function setLogbook(val) {
      //var pdaTwo = document.getElementById("secondPadTaken");
      localStorage.setItem("logbookDriverSignOut", val);
      //alert(val);
    }
  </script>

  <script>
    function setPegs(val) {
      //var pdaTwo = document.getElementById("secondPadTaken");
      localStorage.setItem("pegsDriverSignOut", val);
      //alert(val);
    }
  </script>

  <script>
    function setJacket(val) {
      //var pdaTwo = document.getElementById("secondPadTaken");
      localStorage.setItem("jacketDriverSignOut", val);
      //alert(val);
    }
  </script>

  <script>
    function setFootwear(val) {
      //var pdaTwo = document.getElementById("secondPadTaken");
      localStorage.setItem("footwearDriverSignOut", val);
      //alert(val);
    }
  </script>

  <div class="container">
    <div class="row">
      <div class="col-sm-4">
        <form action="index.html">
          <button type="button" class="btn btn-default" aria-label="Home" onclick="app.project.returnHome();">
            <span class="glyphicon glyphicon-home" aria-hidden="true"></span>
          </button>
        </form>
      </div>

      <div class="col-sm-4">
        <h1 class="text-center">Sign van out</h1>
      </div>
      <div class="col-sm-4"></div>
    </div>

    <div class="row">
      <div class="progress">
        <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar" aria-valuenow="99" aria-valuemin="0" aria-valuemax="100" style="width:99%"></div>
      </div>
    </div>
    <div class="row">
      <form class="form-group" id="vanOutForm" onsubmit="app.project.signAVanOut();">
        <fieldset>
          <!-- Summary of information filled out by the staff member, before confirming their action -->
          <p><label for="theDriversName"><strong>Name:</strong></label></p>
          <input type="text" name="theDriversName" id="theDriversName" readonly />

          <p><label for="driversDuty"><strong>Duty number:</strong></label></p>
          <input type="text" name="driversDuty" id="driversDuty" readonly />

          <p><label for="keysCollected"><strong>Number of keys taken:</strong></label></p>
          <input type="text" name="keysCollected" id="keysCollected" readonly />

          <p><label for="signOutVanNumber"><strong>Vehicle number:</strong></label></p>
          <input type="text" name="signOutVanNumber" id="signOutVanNumber" readonly />

          <p><label for="regNumTaken"><strong>Registration:</strong></label></p>
          <input type="text" name="regNumTaken" id="regNumTaken" readonly />

          <p><label for="serialNumTaken"><strong>Serial number:</strong></label></p>
          <input type="text" name="serialNumTaken" id="serialNumTaken" readonly />

          <p><label for="firstPdaTaken"><strong>PDA 1:</strong></label></p>
          <input type="text" name="firstPdaTaken" id="firstPdaTaken" readonly />

          <p><label for="secondPdaTaken"><strong>PDA 2:</strong></label></p>
          <input type="text" name="secondPdaTaken" id="secondPdaTaken" readonly />

          <label class="checkbox-inline">
            <input type="checkbox" name="logBookCollected" id="logBookCollected" value="Y" required/><strong>Log book</strong>
          </label>

          <label class="checkbox-inline">
            <input type="checkbox" name="pegs" id="pegs" value="Y" required/><strong>Posting pegs</strong>
          </label>

          <label class="checkbox-inline">
            <input type="checkbox" name="hivis" id="hivis" value="Y" required/><strong>Hi-vis jacket</strong>
          </label>

          <label class="checkbox-inline">
            <input type="checkbox" name="footwear" id="footwear" value="Y" required/><strong>Footwear</strong>
          </label>

          <div id="collKeyDiv">
            <label class="checkbox-inline">
              <input type="checkbox" name="collectionKeys" id="collectionKeys" value="1" /><strong>Collection keys</strong>
            </label>
          </div>
        </fieldset>

        <label class="checkbox-inline">
              <input required type="checkbox" value="">I confirm the above information is correct
        </label>

        <input type="button" class="btn btn-warning btn-block" id="cancelButton" value="Cancel" onclick="app.project.returnHome();" />
        <!--<input type="submit" class="btn btn-success btn-block" id="submit" value="Submit" onclick="app.project.signAVanOut();" />-->
        <input type="submit" class="btn btn-success btn-block" id="submit" value="Submit" />
      </form>

    </div>
    <!--<div class="col-sm-4">
      <input type="hidden" name="redirect" value="index.html" />
    </div>-->

    <!--<input type="hidden" name="acknowledge" id="acknowledgeFalse" value="Y" hidden/>
            <input type="checkbox" name="acknowledge" id="acknowledgeTrue" value="N" hidden/>
            <i>I acknowledge the above information is correct</i></label> -->
  </div>
  <script>
    function onLoad() {
      //getVanSerial();
      //getVanReg();
    }
    onLoad();
  </script>
</body>
</html>
