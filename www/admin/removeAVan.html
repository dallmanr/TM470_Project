<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="format-detection" content="telephone=no" />
  <meta name="msapplication-tap-highlight" content="no" />
  <!--<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
    <meta http-equiv="Content-Security-Policy"> -->

  <!-- jQuery -->
  <link rel="stylesheet" type="text/css" href="../js/jquery-1.5.0.mobile.min.css" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="../styles.css" />

  <script type="text/javascript" src="cordova.js"></script>
  <script type="text/javascript" src="../js/jquery-1.11.1.min.js" id="cordova-jquery"></script>
  <script type="text/javascript" id="jqm-trans-disable">
    /* For having a faster transition */
    $(document).on("mobileinit", function() {
      $.mobile.defaultPageTransition = "none";
      $.mobile.defaultDialogTransition = "none";
    });
  </script>

  <!-- my scripts -->
  <script type="text/javascript" src="../js/jquery-1.5.0.mobile.min.js"></script>
  <script type="text/javascript" src="../js/index.js"></script>
  <script type="text/javascript" src="../js/removeAVan.js"></script>
  <!-- end of my scripts -->

  <title>Admin control panel</title>
</head>

<body>
  <!-- Function for setting the serial number selected in drop down list -->
  <script>
    function setSerial(val) {
      localStorage.setItem('serialNum', val);
      //alert(val);
    }
  </script>

  <!-- Function for setting the vehicle number selected in drop down list -->
  <script>
    function setVeh(val) {
      localStorage.setItem('vehicleNumber', val);
      //alert(val);
    }
  </script>

  <!-- Function for setting the reg number selected in drop down list -->
  <script>
    function setReg(val) {
      localStorage.setItem('regNumber', val);
      //alert(val);
    }
  </script>

  <script>
    function setReason(val) {
      localStorage.setItem('reason', val);
    }
  </script>

  <div class="container">
    <div class="row justify-content-md-center">
      <div class="col col-lg-2"></div>
      <div class="col-12 col-md-auto">
        <div class="row">
          <div class="col-sm-9"></div>
          <div class="col-sm-3">
            <form action="../index.html">
              <label><input type="submit" id="adminButton" class="btn btn-default" value="Back" onclick="app.project.adminReturn()" /></label>
            </form>
          </div>
        </div>
        <form id="removeVanForm">
        <fieldset>
          <legend class="text-center">Remove a van</legend>
          <!-- Users can remove a van using either the serial/reg or vehicle number -->
          <!-- The serial number of the van to be removed-->
          <!--Serial number: <select name="serialNumber" id="serialNumber" onChange="setSerial(this.value)"><option>Please select..</option></select> -->

          <!-- The vehicle number of the van to be removed -->
          <!--Vehicle number: <select name="vehicleNumber" id="vehicleNumber" onChange="setVeh(this.value)"><option>Please select..</option></select> -->

          <!-- The registration number of the van to be removed-->
          <!-- Registration number: <select name="regNumber" id="regNumber" onChange="setReg(this.value)"><option>Please select..</option></select> -->

          Registration number:
          <input list="regNumber" name="regNumber" onChange="setReg(this.value); app.project.getVanDetails(this.value);"/>
          <datalist id="regNumber">
          </datalist>

          Vehicle number:
          <input type="text" name="vehicleNumber" id="vehicleNumber" readonly/>

          Serial number:
          <input type="text" name="serialNumber" id="serialNumber" readonly/>
          <!-- A reason the van is to be removed -->
          Reason for removing: <textarea rows="4" cols="10" name="reason" id="reason" placeholder="Write off" onChange="setReason(this.value)"></textarea>
          <!-- The name of the staff member who removed the van -->
          Removed by: <input type="text" name="removedBy" id="removedBy" />
        </fieldset>

          <button type="button" class="btn btn-warning" value="Cancel" id="cancel" onclick="app.project.returnHome()">Cancel</button>
          <button type="button" class="btn btn-primary" value="Submit"  id="submit" onclick="app.project.removeVan()">Submit</button>
        </form>
      </div>
    </div>
  </div>
  <!-- Script for setting the added by element based on who logged in -->
  <script>
    function load() {
      //alert("Added by method called");
      document.getElementById('removedBy').value = localStorage.getItem("adminName");
    }
    load();
  </script>

</body>

</html>
