<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="format-detection" content="telephone=no" />
  <meta name="msapplication-tap-highlight" content="no" />
  <!--<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
    <meta http-equiv="Content-Security-Policy"> -->
  <script type="text/javascript" src="cordova.js"></script>
  <!-- jQuery -->
  <link rel="stylesheet" type="text/css" href="js/jquery-1.5.0.mobile.min.css" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="styles.css" />

  <script type="text/javascript" src="js/jquery-1.11.1.min.js" id="cordova-jquery"></script>

  <script type="text/javascript" id="jqm-trans-disable">
    /* For having a faster transition */
    $(document).on("mobileinit", function() {
      $.mobile.defaultPageTransition = "none";
      $.mobile.defaultDialogTransition = "none";
    });
  </script>
  <script type="text/javascript" src="js/jquery-1.5.0.mobile.min.js"></script>
  <script type="text/javascript" src="js/index.js"></script>
  <script type="text/javascript" src="js/getVanDetails.js"></script>

  <title>Driver sign out 1 of 3</title>
</head>

<body>
  <!-- Testing the driver value -->
  <script>
    //alert(localStorage.getItem("driverName"));
  </script>
  <!-- Scripts for setting values for name of drivers, duty numbers,
  van numbers, PDA numbers, number of keys signed out, collection keys and log book -->
  <script>
    function setName(val) {
      localStorage.setItem("driverName", val);
      console.log(localStorage.getItem("driverName"));
      //alert(val);
    }
  </script>

  <script>
    function setDuty(val) {
      //var duty = document.getElementById("dutyNumber");
      localStorage.setItem("dutyNumber", val);
      //alert(val);
    }
  </script>

  <script>
    function setVan(val) {
      //var van = document.getElementById("vanNumber");
      localStorage.setItem("vanNumber", val);
      //alert(val);
    }
  </script>

  <script>
    function setPdaOne(val) {
      //var pdaOne = document.getElementById("firstPdaTaken");
      localStorage.setItem("pdaOneNum", val);
      //alert(val);
    }
  </script>

  <script>
    function setPdaTwo(val) {
      //var pdaTwo = document.getElementById("secondPadTaken");
      localStorage.setItem("pdaTwoNum", val);
      //alert(val);
    }
  </script>

  <script>
    function setVanKeys(val) {
      //var pdaTwo = document.getElementById("secondPadTaken");
      localStorage.setItem("keysTaken", val);
      //alert(val);
    }
  </script>

  <script>
    function setCollKeys(val) {
      //var pdaTwo = document.getElementById("secondPadTaken");
      localStorage.setItem("collectionKeys", val);
      //alert(val);
    }
  </script>

  <script>
    function setLogbook(val) {
      //var pdaTwo = document.getElementById("secondPadTaken");
      localStorage.setItem("logbook", val);
      //alert(val);
    }
  </script>

  <!-- Scripts for ticking the collection keys and log book check boxes.
  If the user is returning to this screen from screen 2 or 3 to make changes, these values
  will have been set previously -->
  <script>
    if (localStorage.getItem("collectionKeys") == 1) {
      //alert(localStorage.getItem("pegs"));
      $("#collectionKeysTrue").prop("checked", true);
    } else if (localStorage.getItem("collectionKeys") == 0) {
      $("#collectionKeysFalse").prop("checked", true);
    }

    if (localStorage.getItem("logbook") == 1) {
      //alert(localStorage.getItem("pegs"));
      $("#logBookTrue").prop("checked", true);
    } else if (localStorage.getItem("collectionKeys") == 0) {
      $("#logBookFalse").prop("checked", true);
    }
  </script>

  <div class="container">
    <div class="row">
      <div class="col-sm-4">
        <form action="index.html">
          <button type="button" class="btn btn-default" aria-label="Home" onclick="app.project.returnHome()">
          <span class="glyphicon glyphicon-home" aria-hidden="true"></span>
          </button>
        </form>
      </div>
      <div class="col-sm-4">
        <h1 class="text-center">Sign van out</h1>
      </div>
      <div class="col-sm-4"></div>
    </div>

    <!-- User Information -->
    <form>
    <fieldset>
      <legend class="text-center">Sign a van out (1 of 3)</legend>
      <!-- A list of drivers, list contains names of those not currently out on a route for that day -->
      <!--Name: <select name="driverNames" id="driverNames" onChange="setName(this.value)"><option>Please select..</option></select>-->
      <strong>Name:</strong>
      <input list="driverNames" name="driverNames" onChange="setName(this.value)"/>
      <datalist id="driverNames">
      </datalist>

      <!-- A list of duties for the staff member to select which one they are on -->
      <!--Duty: <select name="dutyNumber" id="dutyNumber" onChange="setDuty(this.value)"><option>Please select..</option></select> -->
      <strong>Duty:</strong>
      <input list="dutyNumber" name="dutyNumber" onChange="setDuty(this.value); app.project.checkIfCollectionDuty(this.value); "/>
      <datalist id="dutyNumber">
      </datalist>

      <!-- List of vehicle numbers for a driver to select which one they are signing out -->
      <!-- Van number: <select name="vanNumber" id="vanNumber" onChange="setVan(this.value)"><option>Please select..</option></select> -->
      <strong>Van number:</strong>
      <input list="vanNumber" name="vanNumber" onclick="setVan(this.value); app.project.getVanSerial(); app.project.getVanReg();"/>
      <datalist id="vanNumber">
      </datalist>

      <strong>Van serial:</strong>
      <input type="text" name="serialNumTaken" id="serialNumTaken" readonly/>

      <strong>Van registration</strong>
      <input type="text" name="regNumTaken" id="regNumTaken" readonly/>

      <!-- Number of keys for the van the staff member has taken -->
      <strong>Keys taken:</strong>
      <select name="keysTaken" id="keysTaken" onChange="setVanKeys(this.value)">
			   <option value="1">One</option>
			   <option value="2">Two</option>
			</select>

      <!-- List of PDAs for the staff member to select for signing out (1st PDA) -->
      <strong>PDA:</strong><select name="firstPdaTaken" id="firstPdaTaken" onChange="setPdaOne(this.value)"><option>Please select..</option></select>
      <strong>PDA:</strong><select name="secondPadTaken" id="secondPadTaken" onChange="setPdaTwo(this.value)"><option>Please select..</option></select>

      <div id="collectionDutiesToHide">
      <strong>Collection keys:</strong>
      <label class="radio-inline"><input type="radio" name="collectionKeys" id="collectionKeysTrue" value="1" onchange="setCollKeys(this.value)" hidden/>Yes</label>
      <label class="radio-inline"><input type="radio" name="collectionKeys"  id="collectionKeysFalse" value="0" onchange="setCollKeys(this.value)" hidden />No</label>
      </div>

      <strong>Log book:</strong>
      <label class="radio-inline"><input type="radio" name="logBook" id="logBookTrue" value="1" onchange="setLogbook(this.value)" hidden/>Yes</label>
      <label class="radio-inline"><input type="radio" name="logBook" id="logBookFalse" value="0" onchange="setLogbook(this.value)" hidden/>No</label>
      </fieldset>
    </form>

      <button id="cancelButton" onclick="app.project.returnHome();">Cancel</button>

      <form action="driverSignOut2.html">
        <input type="submit" class="btn btn-default" value="Next" />
      </form>

  </div>
</body>

</html>
